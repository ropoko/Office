@model Office.Models.Produto

@{
    ViewData["Title"] = "Details";
    Layout = "_HeaderFooter";
}

<h1>@Html.DisplayFor(model => model.Nome)</h1>

<div>
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Nome)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Nome)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Valor)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Valor)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Marca)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Marca)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Descricao)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Descricao)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Categoria)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Categoria)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Foto)
        </dt>
        <dd class="col-sm-10">
            <img src="@(System.IO.File.Exists(ViewData["CaminhoFoto"] + Model.Foto) ? Url.Content(Model.Foto) : Url.Content("~/img/sem_foto.png"))" class="img-fluid" width="500" />
        </dd>
        <dt>
            Faça sua reserva -->
        </dt>
        <dd>
            <a onclick="Reservar('@Model.IDProduto')">Reservar</a>
        </dd>
    </dl>
</div>

@section Scripts {
    @{ await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script>
        function Reservar(item) {
            swal({
                title: "Deseja reservar este item?",
                text: "Vá até a guia SOBRE, caso esteja com dúvidas sobre como funciona o sistema de reservas.",
                icon: "success",
                buttons: {
                    cancel: "Cancelar",
                    reservar: true
                }
            })
                .then((reservar) => {
                    if (reservar) {
                        $.get("/Pedidos/Reservar", { id: item }, function () { });
                        swal("Sua reserva foi feita!", {
                            icon: "success",
                        });
                    } else {
                        swal("Reserva cancelada!");
                    }
                });
        }
    </script>
}

@section Styles {
    <link href="~/Produtos/css/details.css" rel="stylesheet" />
}